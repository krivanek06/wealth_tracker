<app-dialog-close-header (dialogCloseEmitter)="onCancel()" title="Account history"></app-dialog-close-header>

<form [formGroup]="formGroup">
	<!-- symbols -->
	<app-form-mat-input-wrapper
		class="min-w-[320px] pl-4"
		controlName="symbols"
		inputCaption="Select symbols"
		inputType="MULTISELECT"
		[inputSource]="symbolInputSource$ | async"
	></app-form-mat-input-wrapper>
</form>

<mat-dialog-content>
	<ng-container *ngIf="transactionHistory$ | async as transactionHistory; else skeleton">
		<!-- result -->
		<div class="block mb-2 sm:hidden text-wt-gray-medium">Total: {{ transactionHistory.length }}</div>

		<!-- table -->
		<app-investment-account-transaction-table
			(removeDataEmitter)="onRemove($event)"
			[transactions]="transactionHistory"
			[symbolSelect]="formGroup.controls.symbols.valueChanges | async"
		></app-investment-account-transaction-table>
	</ng-container>

	<!-- skeleton -->
	<ng-template #skeleton>
		<div *ngRange="10" class="g-skeleton h-[50px] w-full mb-2"></div>
	</ng-template>
</mat-dialog-content>
