<div class="grid grid-cols-1 gap-4 2xl:grid-cols-4">
	<div class="col-span-1 2xl:col-span-3">
		<!-- account state -->
		<div class="mb-2">
			<app-investment-account-state
				(cashChangeClickEmitter)="onChangeChangeClick()"
				[investmentAccount]="investmentAccount$ | async"
			></app-investment-account-state>
		</div>

		<!-- account growth -->
		<app-investment-account-portfolio-growth-chart
			[investmentAccountGrowth]="investmentAccountGrowth$ | async"
		></app-investment-account-portfolio-growth-chart>
	</div>

	<!-- sector allocation -->
	<!-- <app-scroll-wrapper [isFlexRow]="false" [flexColHeightPx]="540" class="items-center hidden 2xl:flex">
		<app-value-presentation-button-control
			[isFlexRow]="false"
			[formControl]="sectorFormControl"
			[items]="sectorAllocation$ | async"
			[multiSelect]="false"
			itemKey="sectorName"
		></app-value-presentation-button-control>
	</app-scroll-wrapper> -->
</div>

<!-- period change -->
<div class="grid grid-cols-1 gap-4 p-4 mb-6 sm:grid-cols-2 md:grid-cols-3 xl:flex xl:justify-around sm:max-xl:pl-14">
	<ng-container *ngIf="accountPeriodChange$ | async as accountPeriodChange; else skeletonPeriod">
		<app-investment-account-period-change
			*ngFor="let periodChange of accountPeriodChange"
			[periodChange]="periodChange"
		></app-investment-account-period-change>
	</ng-container>

	<ng-template #skeletonPeriod>
		<div *ngRange="6" class="w-[220px] h-14 g-skeleton"></div>
	</ng-template>
</div>

<!-- sector allocation -->
<!-- <app-scroll-wrapper [isFlexRow]="true" class="block 2xl:hidden">
	<app-value-presentation-button-control
		[isFlexRow]="true"
		[formControl]="sectorFormControl"
		[items]="sectorAllocation$ | async"
		[multiSelect]="false"
		itemKey="sectorName"
	></app-value-presentation-button-control>
</app-scroll-wrapper> -->

<!-- action buttons -->
<app-investment-account-action-buttons
	[sectorAllocationInputSource]="sectorAllocationInputSource$ | async"
	[formControl]="sectorFormControl"
	(addEmitter)="onAddHolding()"
	(showHistoryEmitter)="onShowHisotry()"
></app-investment-account-action-buttons>

<!-- active investments table -->
<app-investment-account-active-holdings-table
	(holdingClickedEmitter)="onAddHolding($event)"
	[totalInvestedAmount]="totalInvestedAmount$ | async"
	[activeHoldings]="filteredActiveHoldings$ | async"
></app-investment-account-active-holdings-table>
