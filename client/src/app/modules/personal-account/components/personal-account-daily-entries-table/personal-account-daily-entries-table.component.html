<table class="w-full" mat-table [dataSource]="dataSource" matSort [trackBy]="identity">
	<!-- tags -->
	<ng-container matColumnDef="tag">
		<th mat-header-cell *matHeaderCellDef>Tag</th>
		<td mat-cell *matCellDef="let row">
			<div class="flex items-center gap-3">
				<!-- tag svg -->
				<img appDefaultImg [src]="row.tag.imageUrl" class="h-9" />

				<!-- tag data -->
				<div class="flex flex-col">
					<div class="flex items-center gap-4">
						<div style="border-color: {{row.tag.color}}" class="pr-2 text-base border-b-2 text-wt-gray-light">
							<span style="color: {{row.tag.color}}">‚óè</span>
							{{ row.tag.name }}
						</div>
						<!-- description -->
						<mat-icon *ngIf="row.description" [matTooltip]="row.description" class="text-wt-gray-medium">
							description
						</mat-icon>
					</div>

					<!-- date -->
					<div>
						<span>{{ row.date | date: 'MMMM d.' }}</span> | <span> {{ row.date | date: 'EEEE' }}</span> |
						<span>Week {{row.week}}.</span>
					</div>
				</div>
			</div>
		</td>
	</ng-container>

	<!-- value -->
	<ng-container matColumnDef="value">
		<th mat-header-cell *matHeaderCellDef>Value</th>
		<td
			mat-cell
			*matCellDef="let row"
			class="text-lg"
			[ngClass]="{
        'text-wt-danger-medium': row.tag.type === TagDataType.Expense,
        'text-wt-success-medium': row.tag.type === TagDataType.Income
      }"
		>
			{{ row.value | currency }}
		</td>
	</ng-container>

	<tr mat-header-row *matHeaderRowDef="displayedColumns" class="hidden"></tr>
	<tr
		mat-row
		*matRowDef="let row; columns: displayedColumns"
		(click)="onEditDailyEntryClick(row)"
		class="h-[60px]"
	></tr>

	<!-- Row shown when there is no matching data. -->
	<tr class="mat-row" *matNoDataRow>
		<td class="mat-cell" colspan="3">No data has been found</td>
	</tr>
</table>

<!-- pagination -->
<div *ngIf="dataSource?.filteredData" class="flex items-center justify-end">
	<mat-paginator
		appStylePaginator
		showFirstLastButtons
		[length]="dataSource.filteredData.length"
		[appCustomLength]="dataSource.filteredData.length"
		[pageSize]="12"
	></mat-paginator>
</div>
