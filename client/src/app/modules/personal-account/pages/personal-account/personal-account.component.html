<!-- present yearly expenses -->
<div
	*ngIf="accountState$ | async as accountState"
	class="flex flex-col justify-between px-4 mb-4 md:flex-row md:justify-around"
>
	<div class="flex justify-between gap-2 text-2xl g-color-primary md:justify-start">
		<span>● Balance:</span> <span>{{ accountState.total | currency }}</span>
	</div>
	<div class="flex justify-between gap-2 text-2xl g-color-success md:justify-start">
		<span>● Income:</span> <span class="text-gray-200">{{ accountState.incomeTotal | currency }}</span>
	</div>
	<div class="flex justify-between gap-2 text-2xl g-color-danger md:justify-start">
		<span>● Expense:</span> <span class="text-gray-200">{{accountState.expenseTotal | currency}}</span>
	</div>
</div>

<!-- tag expense legend -->
<app-scroll-wrapper>
	<app-value-presentation-item
		[formControl]="expenseFormControl"
		[items]="yearlyExpenseTags$ | async"
		itemKey="id"
	></app-value-presentation-item>
</app-scroll-wrapper>

<div
	*ngIf="{
  categories: categories$ | async,
  expenseTagsChartData : expenseTagsChartData$ | async ,
  accountOverviewChartData: accountOverviewChartData$ | async
} as obs"
>
	<!-- account overview -->
	<app-personal-account-overview-chart
		*ngIf="obs.accountOverviewChartData && obs.categories && obs.expenseTagsChartData"
		[accountOverviewChartData]="obs.accountOverviewChartData"
		[expenseTagsChartData]="obs.expenseTagsChartData"
		[categories]="obs.categories"
	></app-personal-account-overview-chart>
</div>

<!-- daily data filter + table + spending allocation -->
<app-personal-account-daily-data-container
	*ngIf="personalAccountDetails$ | async as personalAccountDetails"
	[personalAccountBasic]="personalAccountDetails"
></app-personal-account-daily-data-container>
