<div mat-dialog-title class="flex flex-col items-center justify-between px-2 sm:flex-row">
	<h2>User profile</h2>
</div>

<!-- content -->
<mat-dialog-content>
	<div *ngIf="authenticatedUser$ | async as authenticatedUser" class="grid gap-x-8 md:grid-cols-3">
		<div class="md:pl-8 md:col-span-2" [ngSwitch]="selectedComponent">
			<!-- user profile -->
			<app-user-profile-info
				*ngSwitchCase="PROFILE_COMPONENTS.USER_INFO"
				[authenticatedUser]="authenticatedUser"
			></app-user-profile-info>

			<!-- password change -->
			<app-change-password-form
				*ngSwitchCase="PROFILE_COMPONENTS.CHANGE_PASSWORD"
				[formControl]="passwordChangeControl"
			></app-change-password-form>
		</div>

		<!-- action buttons -->
		<div class="flex-col hidden gap-4 md:flex">
			<!-- my info -->
			<button mat-stroked-button color="primary" (click)="onComponentChange(PROFILE_COMPONENTS.USER_INFO)">
				<mat-icon>person</mat-icon>
				My info
			</button>
			<!-- change password -->
			<button
				*ngIf="authenticatedUser.authentication.authenticationType === AuthenticationType.BasicAuth "
				(click)="onComponentChange(PROFILE_COMPONENTS.CHANGE_PASSWORD)"
				mat-stroked-button
				color="accent"
			>
				<mat-icon>key</mat-icon>
				Change password
			</button>
			<!-- reset password -->
			<button
				*ngIf="authenticatedUser.authentication.authenticationType === AuthenticationType.BasicAuth "
				(click)="onPasswordReset(authenticatedUser)"
				mat-stroked-button
				color="warn"
				matTooltip="Your password will be reset and new password will arrive to your email"
			>
				<mat-icon>lock_reset</mat-icon>
				Reset password
			</button>
		</div>
	</div>
</mat-dialog-content>

<div class="my-4">
	<mat-divider></mat-divider>
</div>

<!-- action buttons -->
<mat-dialog-actions>
	<div class="justify-end g-dialog-button-wrapper">
		<button mat-stroked-button mat-dialog-close type="button" class="lg:w-auto">Cancel</button>
	</div>
</mat-dialog-actions>
